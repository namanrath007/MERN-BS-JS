<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task23</title>
</head>

<body>
    <style>
        .container{
            margin-left: 500px;
            margin-top: 50px;
        }
        #name{
            margin: 5px 0px 10px 20px;
        }
        
        #mail{
            margin: 5px 0px 10px 20px;
        }

        #web{
            margin: 5px 0px 10px 7px;
        }
        #msg{
            margin: 5px 0px 0px 2px;
        }
        #sub{
            margin: 30px 0px 10px 65px;
            padding: 2px 5px 2px 5px;
            font-size: 14px;
            border: 1px solid rgb(160, 160, 160);
            border-radius: 1px;
        }
        
    </style>
    <div class="container">
    <form>
    Name: <input onblur="myBlur()" onfocus="myFocus()" onkeyup="myName()" id="name" type="text">
    <span id="field">This field is required</span>
    <br>
    Email: <input onblur="myBlur1()" onfocus="myFocus1()" onkeyup="myEmail()" id="mail" type="email">
    <span id="field1">A valid email address is required</span>
    <br>
    Website: <input onblur="myBlur2()" onfocus="myFocus2()" onkeyup="myWeb()" id="web" type="text">
    <span id="field2">A valid url is required</span>
    <br>
    Message: <textarea onblur="myBlur3()" onfocus="myFocus3()" onkeyup="myMsg()" name="message" id="message" cols="27" rows="5"></textarea>
    <span id="field3">This field is required</span>
    <br>
    <input type="button" onclick="subValidate()" value="Submit" id="sub">
    </form>
    </div>


    <script>


        function myFocus()
        {
            console.log("Focused..");
            //document.getElementById("name").style.background="red";
            document.getElementById('name').style.borderColor="red";
            document.getElementById('field').style.color = "red";
            
        }
        function myFocus1(){
            //document.getElementById("mail").style.background="red";
            document.getElementById('mail').style.borderColor="red";
            document.getElementById('field1').style.color = "red";
        }
        function myFocus2(){
            //document.getElementById("web").style.background="red";
            document.getElementById('web').style.borderColor="red";
            document.getElementById('field2').style.color = "red";
        }
        function myFocus3(){
            //document.getElementById("message").style.background="red";
            document.getElementById('message').style.borderColor="red";
            document.getElementById('field3').style.color = "red";
        }


        function myBlur()
        {
            console.log("Blured..")
            //document.getElementById("name").style.background="blue";
            document.getElementById('name').style.borderColor="black";
            //document.getElementById('field').style.color = "black";
            
        }
        function myBlur1(){
            //document.getElementById("mail").style.background="blue";
            document.getElementById('mail').style.borderColor="black";
            //document.getElementById('field1').style.color = "black";
        }
        function myBlur2(){
            //document.getElementById("web").style.background="blue";
            document.getElementById('web').style.borderColor="black";
            //document.getElementById('field2').style.color = "black";
        }
        function myBlur3(){
            //document.getElementById("message").style.background="blue";
            document.getElementById('message').style.borderColor="black";
            //document.getElementById('field3').style.color = "black";
        }


        function myName(){
            var name = document.getElementById("name").value;
            if (name.length == 0){
                document.getElementById("field").innerHTML = "This field is required";
                document.getElementById('field').style.color = "red";
            }
            /*else if (name.length < 5){
                document.getElementById("field").innerHTML = "Poor";
                document.getElementById('field').style.color = "red";
            }
            else if (name.length < 10 && name.length >= 5){
                document.getElementById("field").innerHTML = "Good";
                document.getElementById('field').style.color = "blue";
            }*/
            else{
                document.getElementById("field").innerHTML = "Good";
                document.getElementById('field').style.color = "green";
            }
        }

        function myEmail(){
            var mail = document.getElementById("mail").value;
            var atpos=mail.indexOf("@");
            var dotpos=mail.lastIndexOf(".");
            if (atpos<1 || atpos+2>dotpos || dotpos+2>=mail.length){
                document.getElementById("field1").innerHTML = "A valid email address is required";
                document.getElementById('field1').style.color = "red";
            }
            else if(atpos>=1 && atpos+2<=dotpos && dotpos+2<mail.length){
                document.getElementById("field1").innerHTML = "Great";
                document.getElementById('field1').style.color = "green";
            }
        }    

        function myWeb(){
            var web = document.getElementById("web").value;
            var position = web.indexOf(".");
            if (web.length == 0 || position <= 1){
                document.getElementById("field2").innerHTML = "A valid url is required";
                document.getElementById('field2').style.color = "red";
            }
            else if (web.length <= 6 && (position > 1 && position < web.length)){
                document.getElementById("field2").innerHTML = "Poor";
                document.getElementById('field2').style.color = "red";
            }
            else if (web.length < 10 && web.length >= 7 && (position > 1 && position < web.length)){
                document.getElementById("field2").innerHTML = "Good";
                document.getElementById('field2').style.color = "blue";
            }
            else if (web.length >= 10 && (position > 1 && position < web.length)){
                document.getElementById("field2").innerHTML = "Strong";
                document.getElementById('field2').style.color = "green";
            }
            else{
                document.getElementById("field2").innerHTML = "Invalid URL";
                document.getElementById('field2').style.color = "black";
            }
        }
        

        function myMsg(){
            var msg = document.getElementById("message").value;
            if (msg.length == 0){
                document.getElementById("field3").innerHTML = "This field is required";
                document.getElementById('field3').style.color = "red";
            }
            /*else if (msg.length < 20){
                document.getElementById("field3").innerHTML = "Poor";
                document.getElementById('field3').style.color = "red";
            }
            else if (msg.length >= 25 && msg.length <= 40){
                document.getElementById("field3").innerHTML = "Good";
                document.getElementById('field3').style.color = "blue";
            }*/
            else{
                document.getElementById("field3").innerHTML = "Great";
                document.getElementById('field3').style.color = "green";
            }
        }

        function subValidate(){
            /*var name = document.getElementById("name").value;
            var mail = document.getElementById("mail").value;
            var web = document.getElementById("web").value;
            var msg = document.getElementById("message").value;*/
            var doc1 = document.getElementById("field").innerHTML;
            var doc2 = document.getElementById("field2").innerHTML;
            var doc3 = document.getElementById("field2").innerHTML;
            var doc4 = document.getElementById("field3").innerHTML;
            if(doc1 == "This field is required" || doc2 == "A valid email address is required" || doc3 == "A valid url is required" || doc4 == "This field is required"){
                alert("Your form has not been submited");
            }
            else{
                alert("Your form has been submited successfully");
            }
        }
        

 
    </script>
</body>


</html>
